<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Serenity Solution</title>
    <link rel="icon" type="image/png" href="@Url.Content("~/image/LogoSere.jpg")" />
    <link rel="stylesheet" href="@Url.Content("~/css/HomePage.css")" />
    <link rel="stylesheet" href="@Url.Content("~/css/chatbot.css")" />
    <!-- FontIcons (ví dụ: https://fontisto.com hoặc fonticon.io) -->
    <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-straight/css/uicons-regular-straight.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Thêm Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    @RenderSection("Styles", required: false)
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DMW4RW4HXS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-DMW4RW4HXS');
    </script>

    <style>
        /* Dropdown Styles */
        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropdown-toggle {
            background: none;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            color: #1e3a8a;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 4px;
            transition: all 0.3s;
        }

            .dropdown-toggle:hover {
                background-color: #f0f4ff;
            }

        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: white;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            border-radius: 8px;
            z-index: 1000;
            padding: 8px 0;
            margin-top: 8px;
        }

            .dropdown-menu.show {
                display: block;
            }

        .dropdown-item {
            display: block;
            padding: 10px 16px;
            color: #333;
            text-decoration: none;
            transition: all 0.2s;
        }

            .dropdown-item:hover {
                background-color: #f5f5f5;
                color: #1e40af;
            }

        .dropdown-divider {
            height: 1px;
            background-color: #eee;
            margin: 8px 0;
        }
    </style>

</head>

<body>
    <header class="site-header">
        <div class="header-container">
            <div class="logo">
                <img src="@Url.Content("~/image/Logo/LogoSere.jpg")" alt="Logo">
                <span><strong>Serenity</strong> Solution</span>
            </div>
            <nav class="main-nav">
                <a asp-controller="Home" asp-action="Index"
                   class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Home" ? "active" : "")">Trang chủ</a>
                <a asp-controller="Podcast" asp-action="Index"
                   class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Podcast" ? "active" : "")">Podcast</a>
                <a asp-controller="Test" asp-action="Index"
                   class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Test" ? "active" : "")">Kiểm tra tâm lý</a>
                <a asp-controller="Doctor" asp-action="Index"
                   class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Doctor" ? "active" : "")">Danh sách bác sĩ</a>
                <a asp-controller="Blogs" asp-action="Index"
                   class="@(ViewContext.RouteData.Values["Controller"].ToString() == "Blogs" ? "active" : "")">Blogs</a>
            </nav>
            <div class="auth-buttons">
                @if (User.Identity.IsAuthenticated)
                {
                    <div class="dropdown">
                        <button class="dropdown-toggle" onclick="toggleDropdown()">
                            <i class="fas fa-user-circle"></i> Hello, @User.Identity.Name
                            <i class="fas fa-caret-down"></i>
                        </button>
                        <div class="dropdown-menu" id="userDropdown">
                            @if (User.IsInRole("Admin"))
                            {
                                <a asp-controller="Manager" asp-action="Index" class="dropdown-item">Dashboard</a>
                            }
                            else if (User.IsInRole("Psychologist"))
                            {
                                <a asp-controller="Account" asp-action="PsychologistProfile" class="dropdown-item">Tài khoản bác sĩ</a>
                                <a asp-controller="Chat" asp-action="Index" class="dropdown-item"><i class="fas fa-comments"></i> Tin nhắn</a>                                
                            }
                            else if (User.IsInRole("Customer"))
                            {
                                <a asp-controller="Account" asp-action="CustomerDashboard" class="dropdown-item">Dashboard</a>
                                <a asp-controller="Account" asp-action="CustomerProfile" class="dropdown-item">Tài khoản của bạn</a>
                                <a asp-controller="Chat" asp-action="Index" class="dropdown-item"><i class="fas fa-comments"></i> Tin nhắn</a>
                            }
                            <div class="dropdown-divider"></div>
                            <a asp-controller="Account" asp-action="Logout" class="dropdown-item">Đăng xuất</a>
                        </div>
                    </div>
                }
                else
                {
                    <a asp-controller="Account" asp-action="Login" class="login-link @(ViewContext.RouteData.Values["Action"].ToString() == "Login" ? "active" : "")">Đăng Nhập</a>
                    <a asp-controller="Account" asp-action="Register" class="signup-btn @(ViewContext.RouteData.Values["Action"].ToString() == "Register" ? "active" : "")">Đăng Ký</a>
                }
            </div>
        </div>
    </header>
    @* <div class="container">
        <main role="main" class="pb-3"> *@
    @RenderBody()
    @RenderSection("Scripts", required: false)
    @* Chatbot Component *@
    <partial name="_ChatbotPartial" />
      </main>
    </div> *

    <footer class="footer">
    <div class="footer-container">
      <div class="footer-column-1">
        <h2 class="logo"><span>Serenity</span> <strong>Solution</strong></h2>
        <p>
          Chăm sóc sức khỏe tâm thần đề cập đến những nỗ lực mà các chuyên gia y tế thực hiện để phục hồi sức khỏe thể chất và tinh thần của chúng ta. Thuật ngữ này cũng bao gồm việc cung cấp các dịch vụ để duy trì sức khỏe cảm xúc. Chúng tôi gọi những người và tổ chức cung cấp các dịch vụ này là 'nhà cung cấp dịch vụ chăm sóc sức khỏe'.
        </p>
      </div>
      <div class="footer-column">
        <h3>Overview</h3>
        <ul>
          <li><a asp-controller="Podcast" asp-action="Index">Podcast and Music</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Company</h3>
        <ul>
          <li><a asp-controller="Home" asp-action="Index">Home</a></li>
          <li><a href="#">About us</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Explore</h3>
        <ul>
          <li><a href="#">Blogs & Feeds</a></li>
          <li><a href="#">Privacy Police</a></li>
        </ul>
      </div>
      <div class="footer-column">
 <h3>Social Media</h3>
<div class="social-icons">
                    <a href="https://www.facebook.com/profile.php?id=61565627854871" target="_blank" title="Facebook">
    <i class="fab fa-facebook-f"></i>
  </a>
  <a href="https://www.instagram.com/" target="_blank" title="Instagram">
    <i class="fab fa-instagram"></i>
  </a>
  <a href="https://www.twitter.com/" target="_blank" title="Twitter">
    <i class="fab fa-twitter"></i>
  </a>
</div>

</div>
    </div>

    <hr />
    <div class="copyright">
      Copyright Serenity Solution 2025
    </div>
  </footer>
    <script src="@Url.Content("~/js/chatbot.js")"></script>
</body>
</html>





<script src="/_framework/aspnetcore-browser-refresh.js"></script>



<script>
    function toggleDropdown() {
        document.getElementById("userDropdown").classList.toggle("show");
    }

    // Close the dropdown if clicked outside
    window.onclick = function(event) {
        if (!event.target.matches('.dropdown-toggle') && !event.target.closest('.dropdown-toggle')) {
            var dropdowns = document.getElementsByClassName("dropdown-menu");
            for (var i = 0; i < dropdowns.length; i++) {
                var openDropdown = dropdowns[i];
                if (openDropdown.classList.contains('show')) {
                    openDropdown.classList.remove('show');
                }
            }
        }
    }
</script>

<style>
    /* Main navigation styles */
    .main-nav a {
        color: #1e3a8a;
        font-weight: 500;
        padding: 8px 18px 4px 18px;
        text-decoration: none;
        position: relative;
        transition: color 0.2s;
        font-size: 1.1rem;
        display: inline-block;
    }

        .main-nav a.active,
        .main-nav a:hover {
            color: #006080;
        }

        .main-nav a::after {
            content: "";
            display: block;
            height: 3px;
            width: 0;
            background: #006080;
            border-radius: 2px;
            transition: width 0.3s cubic-bezier(.4,0,.2,1);
            margin: 0 auto;
        }

        .main-nav a.active::after,
        .main-nav a:hover::after {
            width: 100%;
        }

    /* Login and Signup button styles */
    .login-link,
    .signup-btn {
        background-color: transparent;
        color: #1e3a8a;
        border: 2px solid #1e3a8a;
        border-radius: 50px;
        padding: 10px 30px; /* Giảm từ 12px 36px */
        font-size: 1.1rem; /* Giảm từ 1.2rem */
        font-weight: 500;
        text-align: center;
        text-decoration: none;
        transition: background 0.3s, color 0.2s, box-shadow 0.2s, border-color 0.3s;
        margin-right: 15px; /* Giảm từ 20px */
        display: inline-flex;
        align-items: center;
        justify-content: center;
        box-shadow: none;
        min-height: 42px; /* Giảm từ 48px */
        box-sizing: border-box;
        white-space: nowrap;
    }

        .login-link.active,
        .signup-btn.active {
            background-color: #9cc9d6;
            color: #fff !important;
            border-color: #9cc9d6;
            box-shadow: 0 2px 8px rgba(156,201,214,0.15);
        }

        .login-link:hover,
        .signup-btn:hover {
            background-color: #7bb6c7;
            color: #fff !important;
            border-color: #7bb6c7;
            box-shadow: 0 2px 8px rgba(123,182,199,0.15);
        }

    /* Responsive styles for mobile */
    @@media (max-width: 768px) {
        .login-link,
        .signup-btn {
            padding: 6px 14px; /* Giảm từ 7px 16px */
            font-size: 0.9rem; /* Giảm từ 0.97rem */
            margin-right: 6px; /* Giảm từ 8px */
            border-radius: 25px;
            min-height: 32px; /* Giảm từ 36px */
        }
    }

    /* Logo styles */
    .logo img {
        width: 40px;
        height: 40px;
        margin-right: 8px;
    }

    .logo span,
    .logo strong {
        font-size: 1.05rem;
    }

    .main-nav a {
        font-size: 0.97rem;
        padding: 5px 10px 2px 10px;
    }
</style>